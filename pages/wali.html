<!DOCTYPE html>
<html>
<head>
  <title>Wali Kelas</title>
</head>
<body>

<h2 id="judul"></h2>

<table border="1">
  <thead>
    <tr>
      <th>Nama Siswa</th>
      <th>Nilai</th>
    </tr>
  </thead>
  <tbody id="tabelSiswa"></tbody>
</table>

<script src="data-siswa.js"></script>

<script>
  var kelasLogin = localStorage.getItem("kelas");
  document.getElementById("judul").innerText =
    "Data Siswa Kelas " + kelasLogin;

  var tabel = document.getElementById("tabelSiswa");

  dataSiswa.forEach(function(siswa, index) {
    if (siswa.kelas === kelasLogin) {
      var row = `
        <tr>
          <td>${siswa.nama}</td>
          <td>${siswa.nilai}</td>
          <td>
            <button onclick="hapusSiswa(${index})">Hapus</button>
          </td>
        </tr>
      `;
      tabel.innerHTML += row;
    }
  });

  function hapusSiswa(index) {
    if (confirm("Yakin ingin menghapus siswa ini?")) {
      dataSiswa.splice(index, 1);
      localStorage.setItem("dataSiswa", JSON.stringify(dataSiswa));
      location.reload();
    }
  }
</script>
